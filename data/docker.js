(function () {
    window.CLI_KB = window.CLI_KB || {};

    window.CLI_KB['docker'] = {
        desc: 'Container runtime and image management tool',
        sub: {
            'run': 'Create and start a new container',
            'build': 'Build an image from a Dockerfile',
            'pull': 'Download an image from a registry',
            'push': 'Upload an image to a registry',
            'ps': 'List running containers',
            'images': 'List locally stored images',
            'stop': 'Stop a running container',
            'start': 'Start a stopped container',
            'rm': 'Remove one or more containers',
            'rmi': 'Remove one or more images',
            'exec': 'Run a command inside a running container',
            'logs': 'Fetch stdout/stderr logs from a container',
            'inspect': 'Show detailed container or image info',
            'network': 'Manage Docker networks',
            'volume': 'Manage Docker volumes',
            'tag': 'Tag an image with a new name',
            'login': 'Log in to a container registry',
            'logout': 'Log out from a container registry',
            'compose': 'Multi-container application management',
            'system': 'Manage Docker system resources',
            'info': 'Show Docker system-wide information',
            'version': 'Show Docker client and server versions',
            'stats': 'Display live container resource usage',
            'cp': 'Copy files between host and container',
            'prune': 'Remove unused containers, images, volumes',
            'create': 'Create a container without starting it',
            'attach': 'Attach to a running container stdin/stdout',
            'commit': 'Create image from container changes',
            'export': 'Export container filesystem as tar',
            'import': 'Import tarball to create image',
            'save': 'Save image to a tar archive',
            'load': 'Load image from a tar archive',
            'top': 'Display running processes in a container',
            'port': 'Show port mappings for a container',
            'rename': 'Rename a container',
            'wait': 'Block until container stops, then print exit code',
            'diff': 'Show changes to container filesystem',
            'history': 'Show the build history of an image',
        },
        flags: {
            '-d': { desc: 'Detached mode — run in background', val: false },
            '-it': { desc: 'Interactive mode with pseudo-TTY', val: false },
            '-i': { desc: 'Keep stdin open for interaction', val: false },
            '-t': { desc: 'Allocate a pseudo-TTY terminal', val: false },
            '-p': { desc: 'Map host port to container port', val: true },
            '-v': { desc: 'Mount a host directory as volume', val: true },
            '--rm': { desc: 'Auto-remove container when it exits', val: false },
            '--name': { desc: 'Assign a name to the container', val: true },
            '-e': { desc: 'Set an environment variable', val: true },
            '--env-file': { desc: 'Read environment from a file', val: true },
            '--network': { desc: 'Connect container to a network', val: true },
            '--restart': { desc: 'Container restart policy', val: true },
            '-a': { desc: 'Show all containers (including stopped)', val: false },
            '-q': { desc: 'Show only container/image IDs', val: false },
            '--no-cache': { desc: 'Build image without using cache', val: false },
            '-f': { desc: 'Path to Dockerfile or filter expression', val: true },
            '--follow': { desc: 'Follow log output in real time', val: false },
            '--tail': { desc: 'Number of lines from end to show', val: true },
            '--since': { desc: 'Show logs since timestamp', val: true },
            '--platform': { desc: 'Target platform (linux/amd64)', val: true },
            '--build-arg': { desc: 'Set a build-time variable', val: true },
            '--target': { desc: 'Target stage in multi-stage build', val: true },
            '-u': { desc: 'Run as specific user or UID', val: true },
            '-w': { desc: 'Set working directory in container', val: true },
            '--entrypoint': { desc: 'Override default entrypoint', val: true },
            '--privileged': { desc: 'Give extended host privileges', val: false },
            '--cpus': { desc: 'CPU limit for the container', val: true },
            '--memory': { desc: 'Memory limit for the container', val: true },
            '--label': { desc: 'Set metadata label on container', val: true },
            '--pull': { desc: 'Pull policy (always, missing, never)', val: true },
            '--progress': { desc: 'Build progress output type', val: true },
        },
    };

    window.CLI_KB['docker-compose'] = {
        desc: 'Define and run multi-container Docker apps',
        sub: {
            'up': 'Create and start all services',
            'down': 'Stop and remove all containers and networks',
            'ps': 'List running service containers',
            'logs': 'View output from services',
            'build': 'Build or rebuild service images',
            'pull': 'Pull latest images for services',
            'restart': 'Restart all services',
            'stop': 'Stop running services',
            'start': 'Start stopped services',
            'exec': 'Run command in a running service container',
            'run': 'Run a one-off command in a service',
            'config': 'Validate and view the compose file',
            'rm': 'Remove stopped service containers',
            'scale': 'Scale service to N instances',
        },
        flags: {
            '-f': { desc: 'Path to compose file', val: true },
            '--project-name': { desc: 'Override project name', val: true },
            '-d': { desc: 'Detached mode — run in background', val: false },
            '--build': { desc: 'Build images before starting', val: false },
            '--force-recreate': { desc: 'Recreate containers', val: false },
            '--no-deps': { desc: 'Don\'t start dependency services', val: false },
            '--scale': { desc: 'Scale service to N containers', val: true },
            '--timeout': { desc: 'Shutdown timeout in seconds', val: true },
            '-V': { desc: 'Recreate anonymous volumes', val: false },
            '--remove-orphans': { desc: 'Remove unlisted services', val: false },
            '--tail': { desc: 'Number of log lines to show', val: true },
            '--follow': { desc: 'Follow log output', val: false },
            '-T': { desc: 'Disable pseudo-TTY allocation', val: false },
        },
    };
})();
