(function () {
    window.CLI_KB = window.CLI_KB || {};

    window.CLI_KB['kubectl'] = {
        desc: 'Kubernetes cluster command-line control tool',
        sub: {
            'get': 'List one or more resources',
            'describe': 'Show detailed info about a resource',
            'apply': 'Apply configuration from a file',
            'delete': 'Delete resources by name or file',
            'create': 'Create a resource from file or stdin',
            'edit': 'Edit a resource in your default editor',
            'patch': 'Update specific fields of a resource',
            'label': 'Add or update resource labels',
            'annotate': 'Add or update resource annotations',
            'expose': 'Expose a resource as a Kubernetes Service',
            'scale': 'Scale a Deployment or StatefulSet',
            'rollout': 'Manage rolling updates and rollbacks',
            'logs': 'Fetch container logs from a pod',
            'exec': 'Run a command inside a pod container',
            'port-forward': 'Forward local port to a pod port',
            'top': 'Show CPU and memory usage of resources',
            'auth': 'Inspect authorization policies',
            'config': 'Modify kubeconfig settings',
            'cluster-info': 'Show cluster endpoint information',
            'version': 'Show client and server versions',
            'run': 'Create and run a pod from an image',
            'cp': 'Copy files to/from a pod container',
            'wait': 'Wait for a specific condition on resources',
            'diff': 'Show diff of live vs configured state',
            'proxy': 'Run a proxy to the Kubernetes API server',
            'drain': 'Drain a node for maintenance',
            'cordon': 'Mark a node as unschedulable',
            'uncordon': 'Mark a node as schedulable again',
            'taint': 'Set taints on nodes',
        },
        flags: {
            '-n': { desc: 'Kubernetes namespace to operate in', val: true },
            '--namespace': { desc: 'Namespace (same as -n)', val: true },
            '--all-namespaces': { desc: 'Operate across all namespaces', val: false },
            '-A': { desc: 'All namespaces (short for --all-namespaces)', val: false },
            '-f': { desc: 'Filename, directory, or URL for config', val: true },
            '-l': { desc: 'Filter resources by label selector', val: true },
            '-o': { desc: 'Output format (json, yaml, wide, name)', val: true },
            '--watch': { desc: 'Watch for real-time changes', val: false },
            '-w': { desc: 'Watch for real-time changes (short)', val: false },
            '--dry-run': { desc: 'Preview mode (client or server)', val: true },
            '--context': { desc: 'Use a specific kubeconfig context', val: true },
            '--kubeconfig': { desc: 'Path to kubeconfig file', val: true },
            '--field-selector': { desc: 'Filter by resource field value', val: true },
            '-it': { desc: 'Interactive mode with pseudo-TTY', val: false },
            '-i': { desc: 'Pass stdin to the container', val: false },
            '-t': { desc: 'Allocate a pseudo-TTY', val: false },
            '--tail': { desc: 'Number of recent log lines to show', val: true },
            '--since': { desc: 'Show logs since time duration (1h, 30m)', val: true },
            '-c': { desc: 'Specific container name within a pod', val: true },
            '--all': { desc: 'Select all resources of the type', val: false },
            '-R': { desc: 'Process directories recursively', val: false },
            '-p': { desc: 'Show previous container instance logs', val: false },
            '--force': { desc: 'Force delete without grace period', val: false },
            '--grace-period': { desc: 'Seconds before force deletion', val: true },
            '--cascade': { desc: 'Delete dependent objects too', val: true },
            '--replicas': { desc: 'Number of desired replicas', val: true },
            '--image': { desc: 'Container image to use', val: true },
            '--port': { desc: 'Port to expose', val: true },
            '--type': { desc: 'Service type (ClusterIP, NodePort, LB)', val: true },
            '--revision': { desc: 'Rollout revision to inspect', val: true },
            '--timeout': { desc: 'Timeout for the operation', val: true },
            '--show-labels': { desc: 'Show resource labels in output', val: false },
            '--sort-by': { desc: 'Sort list by a JSON path expression', val: true },
            '-v': { desc: 'Verbosity level (0-9)', val: true },
            '--selector': { desc: 'Label selector string', val: true },
            'restart': { desc: 'Restart rollout of a resource', val: false },
        },
    };

    window.CLI_KB['helm'] = {
        desc: 'Kubernetes package manager for Helm charts',
        sub: {
            'install': 'Install a chart as a Helm release',
            'upgrade': 'Upgrade an existing release',
            'uninstall': 'Remove a release from the cluster',
            'rollback': 'Roll back to a previous release revision',
            'list': 'List all Helm releases',
            'status': 'Show status of a named release',
            'repo': 'Manage chart repositories',
            'search': 'Search for available charts',
            'pull': 'Download a chart to the local directory',
            'template': 'Render chart templates locally',
            'lint': 'Check a chart for potential issues',
            'show': 'Show chart information',
            'history': 'Show release revision history',
            'package': 'Package a chart directory into a .tgz',
            'dependency': 'Manage chart dependencies',
        },
        flags: {
            '--namespace': { desc: 'Kubernetes namespace for the release', val: true },
            '-n': { desc: 'Namespace (short for --namespace)', val: true },
            '--values': { desc: 'Override values from a YAML file', val: true },
            '-f': { desc: 'Values file (short for --values)', val: true },
            '--set': { desc: 'Set individual override values', val: true },
            '--version': { desc: 'Specific chart version to use', val: true },
            '--dry-run': { desc: 'Simulate without installing', val: false },
            '--wait': { desc: 'Wait for pods to be ready', val: false },
            '--timeout': { desc: 'Time to wait for readiness', val: true },
            '--atomic': { desc: 'Roll back automatically on failure', val: false },
            '--create-namespace': { desc: 'Create namespace if it doesn\'t exist', val: false },
            '--install': { desc: 'Install the chart if not already present', val: false },
            '--force': { desc: 'Force resource updates', val: false },
            '--debug': { desc: 'Enable verbose debug output', val: false },
            '-o': { desc: 'Output format (table, json, yaml)', val: true },
        },
    };
})();
